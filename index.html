<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>OBSERVATORIO DE BIENESTAR UNIVERSITARIO</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <main>
    <h1>OBSERVATORIO DE BIENESTAR UNIVERSITARIO</h1>
    <div id="barraProgreso">
      Sección <span id="numSeccion">1</span> de <span id="totalSecciones">4</span>
    </div>
    <form id="encuestaForm" novalidate>
      <!-- ========== SECCIÓN 1: GESTIÓN DE BIENESTAR UNIVERSITARIO ========== -->
      <section class="seccion activa" id="seccion1">
        <h2>Gestión de Bienestar Universitario</h2>
        <!-- SubSección: Presupuesto -->
        <h3>Presupuesto asignado a las actividades de Bienestar universitario en la IES</h3>
        <table>
          <thead>
            <tr>
              <th>Institución</th>
              <th>Año</th>
              <th>Rango presupuestal anual (millones de pesos)</th>
              <th>Eliminar</th>
            </tr>
          </thead>
          <tbody id="tablaPresupuestoBody"></tbody>
        </table>
        <div class="botonera-tabla">
          <button type="button" onclick="agregarFilaPresupuesto()">➕ Agregar fila</button>
        </div>
        <!-- Pregunta: Fuente de recursos -->
        <h3>Fuente de los recursos</h3>
        <table>
          <thead>
            <tr>
              <th>Año</th>
              <th>Fuente</th>
              <th>Tipo de entidad (si externa)</th>
              <th>Porcentaje según fuente</th>
              <th>Eliminar</th>
            </tr>
          </thead>
          <tbody id="tablaFuenteBody"></tbody>
        </table>
        <div class="botonera-tabla">
          <button type="button" onclick="agregarFilaFuente()">➕ Agregar fila</button>
        </div>
        <!-- Pregunta: Porcentaje por área -->
        <h3>Porcentaje del presupuesto asignado a cada área</h3>
        <table>
          <thead>
            <tr>
              <th>Año</th>
              <th>Área</th>
              <th>Porcentaje (%)</th>
              <th>Eliminar</th>
            </tr>
          </thead>
          <tbody id="tablaAreaBody"></tbody>
        </table>
        <div class="botonera-tabla">
          <button type="button" onclick="agregarFilaArea()">➕ Agregar fila</button>
        </div>
        <div class="botones">
          <button type="button" onclick="siguienteSeccion(1)">Siguiente sección</button>
        </div>
      </section>
      <!-- ========== SECCIÓN 2: PERSONAL POR ÁREA ========== -->
      <section class="seccion" id="seccion2">
        <h2>Personal por área de Bienestar Universitario</h2>
        <table>
          <thead>
            <tr>
              <th>Identificador Persona</th>
              <th>Nivel jerárquico</th>
              <th>Área Temática</th>
              <th>Nivel educativo</th>
              <th>Tipo de Contrato</th>
              <th>Estado del contrato</th>
              <th>Género</th>
              <th>Fecha de nacimiento</th>
              <th>Eliminar</th>
            </tr>
          </thead>
          <tbody id="tablaPersonalBody"></tbody>
        </table>
        <div class="botonera-tabla">
          <button type="button" onclick="agregarFilaPersonal()">➕ Agregar fila</button>
        </div>
        <div class="botones">
          <button type="button" onclick="anteriorSeccion(2)">Anterior</button>
          <button type="button" onclick="siguienteSeccion(2)">Siguiente sección</button>
        </div>
      </section>
      <!-- ========== SECCIÓN 3: SALUD MENTAL ========== -->
      <section class="seccion" id="seccion3">
        <h2>Demanda de los servicios de salud mental ofrecidos por la IES</h2>
        <table>
          <thead>
            <tr>
              <th>Identificador</th>
              <th>Vínculo</th>
              <th>Fecha solicitud de cita</th>
              <th>Fecha asignación de cita</th>
              <th>Género</th>
              <th>Fecha de nacimiento</th>
              <th>Motivo de consulta</th>
              <th>Detalle (si conducta suicida)</th>
              <th>Fecha (si conducta suicida)</th>
              <th>Eliminar</th>
            </tr>
          </thead>
          <tbody id="tablaSaludBody"></tbody>
        </table>
        <div class="botonera-tabla">
          <button type="button" onclick="agregarFilaSalud()">➕ Agregar fila</button>
        </div>
        <div class="botones">
          <button type="button" onclick="anteriorSeccion(3)">Anterior</button>
          <button type="button" onclick="siguienteSeccion(3)">Siguiente sección</button>
        </div>
      </section>
      <!-- ========== SECCIÓN 4: ACTIVIDAD FÍSICA ========== -->
      <section class="seccion" id="seccion4">
        <h2>Disponibilidad de Instalaciones Actividad Física</h2>
        <table>
          <thead>
            <tr>
              <th>Tipo de Instalación</th>
              <th>Cantidad de espacios</th>
              <th>Eliminar</th>
            </tr>
          </thead>
          <tbody id="tablaInstalacionBody"></tbody>
        </table>
        <div class="botonera-tabla">
          <button type="button" onclick="agregarFilaInstalacion()">➕ Agregar fila</button>
        </div>
        <div class="botones">
          <button type="button" onclick="anteriorSeccion(4)">Anterior</button>
          <button type="submit">Enviar</button>
        </div>
      </section>
      <!-- Sección CULTURA -->
    <section id="seccion-cultura" class="seccion activa">
      <h2>CULTURA</h2>
      <!-- Barra de progreso de preguntas de la sección -->
      <div id="progresoPreguntasCultura"></div>

      <!-- Pregunta 1: Actividades y programas culturales -->
      <div class="pregunta-cultura pregunta-activa">
        <h3>1. Actividades y programas culturales organizados por su universidad durante el año</h3>
        <table>
          <thead>
            <tr>
              <th>Actividad/Programa</th>
              <th>Estamento</th>
              <th>Género</th>
              <th>N° Participantes</th>
              <th>Eliminar</th>
            </tr>
          </thead>
          <tbody id="tablaActividadesCultura"></tbody>
        </table>
        <div class="botonera-tabla">
          <button type="button" onclick="agregarFilaActividadesCultura()">➕ Agregar fila</button>
        </div>
        <div class="botones">
          <button type="button" onclick="siguientePreguntaCultura()">Siguiente</button>
        </div>
      </div>

      <!-- Pregunta 2: Asociaciones culturales -->
      <div class="pregunta-cultura">
        <h3>2. ¿Su universidad participa en alguna Asociación Cultural?</h3>
        <select id="asociacionCultural" required onchange="toggleAsociacionCultural(this)">
          <option value="" disabled selected>Seleccione</option>
          <option>Sí</option>
          <option>No</option>
        </select>
        <div class="botones">
          <button type="button" onclick="anteriorPreguntaCultura()">Anterior</button>
          <button type="button" onclick="siguientePreguntaCultura()">Siguiente</button>
        </div>
        <!-- Si responde Sí, tabla adicional -->
        <div id="detalleAsociacionCultural" style="display:none; margin-top: 15px;">
          <h4>¿Cuáles son y cuántas personas de la Comunidad Universitaria participan en ellas?</h4>
          <table>
            <thead>
              <tr>
                <th>Asociación Cultural</th>
                <th>N° Participantes</th>
                <th>Estamento</th>
                <th>Género</th>
                <th>Eliminar</th>
              </tr>
            </thead>
            <tbody id="tablaAsociacionesCulturales"></tbody>
          </table>
          <div class="botonera-tabla">
            <button type="button" onclick="agregarFilaAsociacionCultural()">➕ Agregar fila</button>
          </div>
        </div>
      </div>

      <!-- Pregunta 3: Grupos representativos -->
      <div class="pregunta-cultura">
        <h3>3. ¿Cuántos grupos representativos de estudiantes, profesores y/o administrativos existen en su institución?</h3>
        <table>
          <thead>
            <tr>
              <th>Grupo</th>
              <th>Miembros</th>
              <th>Estamento</th>
              <th>Eliminar</th>
            </tr>
          </thead>
          <tbody id="tablaGruposRepresentativos"></tbody>
        </table>
        <div class="botonera-tabla">
          <button type="button" onclick="agregarFilaGrupoRepresentativo()">➕ Agregar fila</button>
        </div>
        <div class="botones">
          <button type="button" onclick="anteriorPreguntaCultura()">Anterior</button>
          <button type="button" onclick="siguientePreguntaCultura()">Siguiente</button>
        </div>
      </div>

      <!-- Pregunta 4: Estímulos y apoyos -->
      <div class="pregunta-cultura">
        <h3>4. ¿Su universidad ofrece algún tipo de estímulo académico o económico a los estudiantes que participan en actividades culturales?</h3>
        <table>
          <thead>
            <tr>
              <th>Tipo de apoyo o estímulo</th>
              <th>Número de apoyos o estímulos</th>
              <th>Monto o porcentaje entregado</th>
              <th>Eliminar</th>
            </tr>
          </thead>
          <tbody id="tablaEstimulosApoyos"></tbody>
        </table>
        <div class="botonera-tabla">
          <button type="button" onclick="agregarFilaEstimuloApoyo()">➕ Agregar fila</button>
        </div>
        <div class="botones">
          <button type="button" onclick="anteriorPreguntaCultura()">Anterior</button>
          <button type="button" onclick="siguientePreguntaCultura()">Siguiente</button>
        </div>
      </div>

      <!-- Pregunta 5: Otras actividades de promoción -->
      <div class="pregunta-cultura">
        <h3>5. ¿Su universidad organiza otras actividades de promoción enfocadas en la cultura?</h3>
        <textarea required placeholder="Describa las actividades, por ejemplo: torneos interfacultades, festivales, etc."></textarea>
        <div class="botones">
          <button type="button" onclick="anteriorPreguntaCultura()">Anterior</button>
          <button type="button" onclick="siguientePreguntaCultura()">Siguiente</button>
        </div>
      </div>

      <!-- Pregunta 6: Eventos académicos -->
      <div class="pregunta-cultura">
        <h3>6. ¿Su universidad organiza eventos académicos relacionados con el área de cultura?</h3>
        <select id="eventosAcademicos" required onchange="toggleEventosAcademicos(this)">
          <option value="" disabled selected>Seleccione</option>
          <option>Sí</option>
          <option>No</option>
        </select>
        <div class="botones">
          <button type="button" onclick="anteriorPreguntaCultura()">Anterior</button>
          <button type="button" onclick="siguientePreguntaCultura()">Siguiente</button>
        </div>
        <!-- Si responde Sí, tabla adicional -->
        <div id="detalleEventosAcademicos" style="display:none; margin-top: 15px;">
          <h4>¿Cuáles?</h4>
          <table>
            <thead>
              <tr>
                <th>Evento académico</th>
                <th>N° de participantes</th>
                <th>Duración promedio (días)</th>
                <th>Eliminar</th>
              </tr>
            </thead>
            <tbody id="tablaEventosAcademicos"></tbody>
          </table>
          <div class="botonera-tabla">
            <button type="button" onclick="agregarFilaEventoAcademico()">➕ Agregar fila</button>
          </div>
        </div>
      </div>

      <!-- Pregunta 7: Actividades de responsabilidad social -->
      <div class="pregunta-cultura">
        <h3>7. ¿Su universidad lleva a cabo actividades de responsabilidad social relacionadas con el área de cultura?</h3>
        <select id="responsabilidadSocial" required onchange="toggleResponsabilidadSocial(this)">
          <option value="" disabled selected>Seleccione</option>
          <option>Sí</option>
          <option>No</option>
        </select>
        <div class="botones">
          <button type="button" onclick="anteriorPreguntaCultura()">Anterior</button>
          <button type="button" onclick="finalizarSeccionCultura()">Finalizar sección</button>
        </div>
        <!-- Si responde Sí, tabla adicional -->
        <div id="detalleResponsabilidadSocial" style="display:none; margin-top: 15px;">
          <h4>¿Cuáles?</h4>
          <table>
            <thead>
              <tr>
                <th>Actividad</th>
                <th>N° de participantes</th>
                <th>Eliminar</th>
              </tr>
            </thead>
            <tbody id="tablaResponsabilidadSocial"></tbody>
          </table>
          <div class="botonera-tabla">
            <button type="button" onclick="agregarFilaResponsabilidadSocial()">➕ Agregar fila</button>
          </div>
        </div>
      </div>
    </section>
    <!-- Fin de la sección CULTURA -->
    </form>
    <div class="botonera-export">
      <button type="button" onclick="exportarExcel()">Exportar a Excel</button>
    </div>
    <div id="mensajeFinal" class="oculto"></div>
  </main>
  <script src="script.js"></script>
</body>
</html>
